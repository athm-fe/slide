/*!
 * @autofe/slide v0.5.0
 * (c) 2018 Autohome Inc.
 * Released under the MIT License.
 */
!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],i):(t.AutoFE=t.AutoFE||{},t.AutoFE.Slide=i(t.jQuery))}(this,function(t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var i="slide",e="fe.slide",s="."+e,n=t.fn[i],o="next",a="prev",r={INIT:"init"+s,SLIDE:"slide"+s,SLID:"slid"+s,FIRST_SLIDE:"firstSlide"+s,FIRST_SLID:"firstSlid"+s,LAST_SLIDE:"lastSlide"+s,LAST_SLID:"lastSlid"+s,KEYDOWN:"keydown"+s,MOUSEENTER:"mouseenter"+s,MOUSELEAVE:"mouseleave"+s,CLICK:"click"+s},l='[data-toggle="slide"]';function h(i,e){this.options=e,this.$elem=t(i),this.$track=t(this.options.slideTrack,this.$elem),this.$item=t(this.options.slideItem,this.$elem),this.$title=t(this.options.slideTitle,this.$elem),this.$indicators=t(this.options.slideIndicators,this.$elem),this.$prev=t(this.options.slidePrev,this.$elem),this.$next=t(this.options.slideNext,this.$elem),this.number=1,this.buzy=!1,this.isMouseEnter=!1,this.adjustObj=null,this.init()}function d(i){return this.each(function(){var s=t(this),n=s.data(e),o=t.extend({},h.Default,s.data(),"object"==typeof i&&i);if(n||(n=new h(this,o),s.data(e,n)),"string"==typeof i){if("undefined"==typeof n[i])throw new TypeError('No method named "'+i+'"');n[i]()}else"number"==typeof i&&n.go(i)})}return h.Default={fade:!1,duration:400,interval:5e3,circle:!0,autoplay:!0,keyboard:!1,pause:"hover",toggleButton:!1,autoIndicators:!1,slideTrack:".athm-slide__track,[data-slide-track]",slideItem:".athm-slide__item,[data-slide-item]",slideTitle:".athm-slide__title,[data-slide-title]",slideIndicators:".athm-slide__indicators,[data-slide-indicators]",slidePrev:".athm-slide__prev,[data-slide-prev]",slideNext:".athm-slide__next,[data-slide-next]",disabledClass:"disabled"},h.prototype.init=function(){var i=this;if(i.$item.length<=1)return i.$indicators.hide(),i.$prev.hide(),void i.$next.hide();if(i.$elem.trigger(r.INIT,i),"hover"===i.options.pause&&i.$elem.on(r.MOUSEENTER,function(){i.isMouseEnter=!0}).on(r.MOUSELEAVE,function(){i.isMouseEnter=!1}),!0===i.options.toggleButton&&i.$elem.on(r.MOUSEENTER,function(){i.$prev.show(),i.$next.show()}).on(r.MOUSELEAVE,function(){i.$prev.hide(),i.$next.hide()}),i.$prev.on(r.CLICK,t.proxy(i.prev,i)),i.$next.on(r.CLICK,t.proxy(i.next,i)),i.options.autoIndicators){for(var e=[],s=0,n=i.$item.length;s<n;s++)e.push('<a href="javascript:void(0)" target="_self"></a>');i.$indicators.html(e.join(" "))}i.$indicators.on(r.CLICK,"a",function(){if(!i.buzy){var t=i.$indicators.find("a").index(this)+1;i.go(t)}}),i._keydownHook=i._keydown.bind(i),i.options.keyboard&&t(document).on(r.KEYDOWN,i._keydownHook),i.options.fade?i.$item.css({opacity:0,position:"absolute",zIndex:1}).eq(0).css({opacity:1,zIndex:2}):i.$track.css("left",0),i._setPoint(),i.options.circle||1!==i.number||i.$prev.addClass(this.options.disabledClass),!0===i.options.autoplay&&i.play()},h.prototype.next=function(){this.buzy||this._slide(o,this.number+1)},h.prototype.prev=function(){this.buzy||this._slide(a,this.number-1)},h.prototype.go=function(t){if(!(t>this.$item.length||t<1||t===this.number||this.buzy)){var i=t>this.number?o:a;this._slide(i,t)}},h.prototype.play=function(){var t=this;this.interval&&clearInterval(this.interval),this.buzy=!1,this.interval=setInterval(function(){!t.isMouseEnter&&t.next()},this.options.interval)},h.prototype.pause=function(){this.interval&&clearInterval(this.interval)},h.prototype._setPoint=function(){var t="active";this.$indicators.find("a").removeClass(t).eq(this.number-1).addClass(t);var i=this.$item.eq(this.number-1),e=i.find("img[title]"),s=e.attr("title");if(s&&this.$title.length>0){var n=e.closest("a",i[0])[0];n?n=n.cloneNode():(n=document.createElement("a")).href="javascript:void(0)",n.innerHTML=s,this.$title.html(n.outerHTML)}},h.prototype._slide=function(i,e){var s=this,n=this.options.duration,l=this.options.disabledClass,h=this.$item.first().width(),d=this.options.circle,u=i===o&&e===this.$item.length,f=i===o&&e>this.$item.length,p=i===a&&1===e,c=i===a&&e<1,m=this.number,$=e;if(d||!c&&!f){if(this.buzy=!0,this.$elem.trigger(r.SLIDE,this),!d&&u?(this.$next.addClass(l),this.$elem.trigger(r.LAST_SLIDE,this),this.pause()):this.$next.removeClass(l),!d&&p?(this.$prev.addClass(l),this.$elem.trigger(r.FIRST_SLIDE,this)):this.$prev.removeClass(l),f){if(!this.options.fade){this.$track.css("left",h);var v=this.$item.last();this._adjustPosition(v,-this.$item.length*h)}$=1}else if(c){if(!this.options.fade){this.$track.css("left",-this.$item.length*h);var y=this.$item.first();this._adjustPosition(y,this.$item.length*h)}$=this.$item.length}this.number=$,this._setPoint(),s.options.fade?(s.$item.eq(m-1).animate({opacity:0},n,function(){t(this).css("zIndex",1)}),s.$item.eq(s.number-1).animate({opacity:1},n,function(){t(this).css("zIndex",2),b()})):s.$track.animate({left:-(s.number-1)*h},n,function(){s._resetPosition(),b()})}function b(){s.buzy=!1,s.$elem.trigger(r.SLID,s),!d&&u?s.$elem.trigger(r.LAST_SLID,s):!d&&p&&s.$elem.trigger(r.FIRST_SLID,s)}},h.prototype._adjustPosition=function(t,i){this.adjustObj={$elem:t,position:t.css("position"),left:t.css("left")},t.css({position:"relative",left:i})},h.prototype._resetPosition=function(){this.adjustObj&&(this.adjustObj.$elem.css({position:this.adjustObj.position,left:this.adjustObj.left}),this.adjustObj=null)},h.prototype._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case 37:this.prev();break;case 39:this.next()}},h.prototype.destroy=function(){this.pause(),this.$item.stop(!0,!0),this.$track.stop(!0,!0),this.$elem.off(s),this.$prev.off(r.CLICK),this.$next.off(r.CLICK),this.$indicators.off(r.CLICK),t(document).off(r.KEYDOWN,this._keydownHook),this.$elem.removeData(e),this.options=null,this.$elem=null,this.$track=null,this.$item=null,this.$title=null,this.$indicators=null,this.$prev=null,this.$next=null,this.adjustObj=null},t(function(){d.call(t(l))}),t.fn[i]=d,t.fn[i].Constructor=h,t.fn[i].noConflict=function(){return t.fn[i]=n,d},h});